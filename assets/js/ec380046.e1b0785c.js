"use strict";(self.webpackChunkmy_docusaurus_site=self.webpackChunkmy_docusaurus_site||[]).push([[1700],{2633:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"rest-api/Designing-REST-API/get_post","title":"Consuming APIs - GET and POST","description":"In this chapter, we will focus on how to consume REST APIs using Python, specifically using the requests library. We will cover how to perform GET and POST requests, which are fundamental for retrieving and sending data to APIs.","source":"@site/docs/rest-api/Designing-REST-API/03_get_post.md","sourceDirName":"rest-api/Designing-REST-API","slug":"/rest-api/Designing-REST-API/get_post","permalink":"/Python/docs/rest-api/Designing-REST-API/get_post","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rest-api/Designing-REST-API/03_get_post.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"restAPISidebar","previous":{"title":"understanding_rest_api","permalink":"/Python/docs/rest-api/Designing-REST-API/understanding_rest_api"},"next":{"title":"Consuming APIs - PUT, PATCH, and DELETE","permalink":"/Python/docs/rest-api/Designing-REST-API/put_patch_delete"}}');var r=n(4848),a=n(8453);const i={},o="Consuming APIs - GET and POST",d={},l=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Making GET Requests",id:"making-get-requests",level:2},{value:"Example: Fetching Data",id:"example-fetching-data",level:3},{value:"Explanation",id:"explanation",level:3},{value:"Making POST Requests",id:"making-post-requests",level:2},{value:"Example: Creating a New Resource",id:"example-creating-a-new-resource",level:3},{value:"Explanation",id:"explanation-1",level:3},{value:"Advanced Usage",id:"advanced-usage",level:2},{value:"Query Parameters",id:"query-parameters",level:3},{value:"Custom Headers",id:"custom-headers",level:3},{value:"Summary",id:"summary",level:2}];function c(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"consuming-apis---get-and-post",children:"Consuming APIs - GET and POST"})}),"\n",(0,r.jsxs)(s.p,{children:["In this chapter, we will focus on how to consume REST APIs using Python, specifically using the ",(0,r.jsx)(s.code,{children:"requests"})," library. We will cover how to perform GET and POST requests, which are fundamental for retrieving and sending data to APIs."]}),"\n",(0,r.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"GET Requests"}),": Used to retrieve data from a server."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"POST Requests"}),": Used to send data to a server to create a new resource."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(s.p,{children:["Ensure you have the ",(0,r.jsx)(s.code,{children:"requests"})," library installed. If not, install it using:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pip install requests\n"})}),"\n",(0,r.jsx)(s.h2,{id:"making-get-requests",children:"Making GET Requests"}),"\n",(0,r.jsx)(s.p,{children:"GET requests are used to retrieve data from a REST API. This method should not change the state of the server."}),"\n",(0,r.jsx)(s.h3,{id:"example-fetching-data",children:"Example: Fetching Data"}),"\n",(0,r.jsx)(s.p,{children:"Let's say you want to retrieve a list of users from a hypothetical API:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import requests\n\n# Define the API endpoint\nurl = 'https://api.example.com/users'\n\n# Send the GET request\nresponse = requests.get(url)\n\n# Check if the request was successful\nif response.status_code == 200:\n    data = response.json()  # Parse JSON data\n    print(\"Users retrieved successfully:\")\n    for user in data:\n        print(f\"User ID: {user['id']}, Name: {user['name']}\")\nelse:\n    print(f\"Failed to retrieve data: {response.status_code}\")\n"})}),"\n",(0,r.jsx)(s.h3,{id:"explanation",children:"Explanation"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"URL"}),": The endpoint from which we want to fetch data."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"GET Request"}),": Use ",(0,r.jsx)(s.code,{children:"requests.get()"})," to send a GET request."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Response Handling"}),": Check if the status code is ",(0,r.jsx)(s.code,{children:"200 OK"}),". Use ",(0,r.jsx)(s.code,{children:"response.json()"})," to parse the JSON response into a Python dictionary."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"making-post-requests",children:"Making POST Requests"}),"\n",(0,r.jsx)(s.p,{children:"POST requests are used to send data to a server to create a new resource. This method often requires sending data in the body of the request."}),"\n",(0,r.jsx)(s.h3,{id:"example-creating-a-new-resource",children:"Example: Creating a New Resource"}),"\n",(0,r.jsx)(s.p,{children:"Let\u2019s create a new user with a POST request:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import requests\n\n# Define the API endpoint\nurl = 'https://api.example.com/users'\n\n# Define the data to send\npayload = {\n    'name': 'John Doe',\n    'email': 'john.doe@example.com'\n}\n\n# Send the POST request\nresponse = requests.post(url, json=payload)\n\n# Check if the request was successful\nif response.status_code == 201:\n    print(\"User created successfully!\")\n    created_user = response.json()  # Get the created user data\n    print(f\"User ID: {created_user['id']}, Name: {created_user['name']}\")\nelse:\n    print(f\"Failed to create user: {response.status_code}\")\n"})}),"\n",(0,r.jsx)(s.h3,{id:"explanation-1",children:"Explanation"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"URL"}),": The endpoint where the data will be sent."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Payload"}),": Data to be sent in the request body, typically in JSON format."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"POST Request"}),": Use ",(0,r.jsx)(s.code,{children:"requests.post()"})," to send a POST request. The ",(0,r.jsx)(s.code,{children:"json"})," parameter automatically sets the ",(0,r.jsx)(s.code,{children:"Content-Type"})," header to ",(0,r.jsx)(s.code,{children:"application/json"})," and serializes the data."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Response Handling"}),": Check if the status code is ",(0,r.jsx)(s.code,{children:"201 Created"}),". Use ",(0,r.jsx)(s.code,{children:"response.json()"})," to parse the response and access the data of the newly created resource."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"advanced-usage",children:"Advanced Usage"}),"\n",(0,r.jsx)(s.h3,{id:"query-parameters",children:"Query Parameters"}),"\n",(0,r.jsx)(s.p,{children:"Sometimes you may need to pass query parameters with your GET request. For example, to filter users:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import requests\n\n# Define the API endpoint with query parameters\nurl = 'https://api.example.com/users'\nparams = {'status': 'active'}\n\n# Send the GET request with parameters\nresponse = requests.get(url, params=params)\n\n# Handle the response\nif response.status_code == 200:\n    data = response.json()\n    print(\"Active users retrieved:\")\n    for user in data:\n        print(f\"User ID: {user['id']}, Name: {user['name']}\")\nelse:\n    print(f\"Failed to retrieve data: {response.status_code}\")\n"})}),"\n",(0,r.jsx)(s.h3,{id:"custom-headers",children:"Custom Headers"}),"\n",(0,r.jsx)(s.p,{children:"You might need to send custom headers with your requests. For example, including an API key:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import requests\n\n# Define the API endpoint\nurl = 'https://api.example.com/users'\n\n# Define custom headers\nheaders = {\n    'Authorization': 'Bearer YOUR_API_KEY',\n    'Accept': 'application/json'\n}\n\n# Send the GET request with headers\nresponse = requests.get(url, headers=headers)\n\n# Handle the response\nif response.status_code == 200:\n    data = response.json()\n    print(\"Data retrieved with custom headers:\")\n    print(data)\nelse:\n    print(f\"Failed to retrieve data: {response.status_code}\")\n"})}),"\n",(0,r.jsx)(s.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(s.p,{children:["In this chapter, we have learned how to make GET and POST requests using Python's ",(0,r.jsx)(s.code,{children:"requests"})," library. You can now retrieve data from an API and send data to create new resources. These operations are fundamental for interacting with RESTful services."]}),"\n",(0,r.jsx)(s.p,{children:"In the next chapter, we will cover additional HTTP methods (PUT, PATCH, DELETE) for more advanced interactions with REST APIs. Stay tuned!"})]})}function u(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>o});var t=n(6540);const r={},a=t.createContext(r);function i(e){const s=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(a.Provider,{value:s},e.children)}}}]);