"use strict";(self.webpackChunkmy_docusaurus_site=self.webpackChunkmy_docusaurus_site||[]).push([[7106],{7926:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>o,toc:()=>r});const o=JSON.parse('{"id":"guide/Python_Basics/Scopes/README","title":"Understanding Python Scopes","description":"In Python, scopes define the accessibility and lifespan of variables within different regions of a program. Scoping rules determine how variables and names are resolved in nested contexts, affecting how values are assigned, modified, and accessed throughout the code. Understanding Python\'s scope mechanism is crucial for writing clean, maintainable, and bug-free code. This tutorial provides an in-depth explanation of Python scopes, supplemented by illustrative code snippets.","source":"@site/docs/guide/01_Python_Basics/24_Scopes/README.md","sourceDirName":"guide/01_Python_Basics/24_Scopes","slug":"/guide/Python_Basics/Scopes/","permalink":"/Python/docs/guide/Python_Basics/Scopes/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/guide/01_Python_Basics/24_Scopes/README.md","tags":[],"version":"current","frontMatter":{},"sidebar":"guideSidebar","previous":{"title":"Floating Point Precision in Python","permalink":"/Python/docs/guide/Python_Basics/Comparing_Floats/"},"next":{"title":"Global","permalink":"/Python/docs/guide/Python_Basics/Global/"}}');var l=i(4848),s=i(8453);const c={},a="Understanding Python Scopes",t={},r=[{value:"Global Scope",id:"global-scope",level:2},{value:"Concept",id:"concept",level:3},{value:"Example",id:"example",level:3},{value:"Local Scope",id:"local-scope",level:2},{value:"Concept",id:"concept-1",level:3},{value:"Example",id:"example-1",level:3},{value:"Enclosing (Nonlocal) Scope",id:"enclosing-nonlocal-scope",level:2},{value:"Concept",id:"concept-2",level:3},{value:"Example",id:"example-2",level:3},{value:"Nonlocal Variable Modification",id:"nonlocal-variable-modification",level:3},{value:"Global Keyword",id:"global-keyword",level:2},{value:"Concept",id:"concept-3",level:3},{value:"Example",id:"example-3",level:3},{value:"Scope Interaction and Best Practices",id:"scope-interaction-and-best-practices",level:2},{value:"Scope Resolution Order (LEGB Rule)",id:"scope-resolution-order-legb-rule",level:3},{value:"Avoiding Scope-Related Issues",id:"avoiding-scope-related-issues",level:3},{value:"Summary",id:"summary",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"understanding-python-scopes",children:"Understanding Python Scopes"})}),"\n",(0,l.jsx)(n.p,{children:"In Python, scopes define the accessibility and lifespan of variables within different regions of a program. Scoping rules determine how variables and names are resolved in nested contexts, affecting how values are assigned, modified, and accessed throughout the code. Understanding Python's scope mechanism is crucial for writing clean, maintainable, and bug-free code. This tutorial provides an in-depth explanation of Python scopes, supplemented by illustrative code snippets."}),"\n",(0,l.jsx)(n.h2,{id:"global-scope",children:"Global Scope"}),"\n",(0,l.jsx)(n.h3,{id:"concept",children:"Concept"}),"\n",(0,l.jsx)(n.p,{children:"The global scope is the outermost scope in Python, where variables are defined at the top level of a script or module. Variables defined in the global scope are accessible from any part of the code, including functions, unless shadowed by a local variable of the same name."}),"\n",(0,l.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,l.jsxs)(n.p,{children:["Consider the following example where we define a variable ",(0,l.jsx)(n.code,{children:"number"})," in the global scope:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"number = 999\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Here, ",(0,l.jsx)(n.code,{children:"number"})," is globally accessible throughout the script. This means that any function or block of code can access this variable, as long as there is no local variable with the same name."]}),"\n",(0,l.jsx)(n.h2,{id:"local-scope",children:"Local Scope"}),"\n",(0,l.jsx)(n.h3,{id:"concept-1",children:"Concept"}),"\n",(0,l.jsx)(n.p,{children:"A local scope is created when a function is called. Variables defined within this function exist only in that scope and cannot be accessed from outside the function. These local variables are isolated from the global scope, meaning that modifying a variable in the local scope does not affect a global variable of the same name."}),"\n",(0,l.jsx)(n.h3,{id:"example-1",children:"Example"}),"\n",(0,l.jsxs)(n.p,{children:["Let's define a function ",(0,l.jsx)(n.code,{children:"change_number"})," that creates a local variable ",(0,l.jsx)(n.code,{children:"number"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"def change_number():\n    number = 10\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Within the ",(0,l.jsx)(n.code,{children:"change_number"})," function, the ",(0,l.jsx)(n.code,{children:"number"})," variable is local. This local variable shadows the global ",(0,l.jsx)(n.code,{children:"number"}),", meaning that any reference to ",(0,l.jsx)(n.code,{children:"number"})," within ",(0,l.jsx)(n.code,{children:"change_number"})," refers to the local variable, not the global one. However, this local variable ceases to exist once the function terminates, leaving the global ",(0,l.jsx)(n.code,{children:"number"})," unchanged."]}),"\n",(0,l.jsx)(n.h2,{id:"enclosing-nonlocal-scope",children:"Enclosing (Nonlocal) Scope"}),"\n",(0,l.jsx)(n.h3,{id:"concept-2",children:"Concept"}),"\n",(0,l.jsxs)(n.p,{children:["An enclosing scope occurs when a function is nested within another function. The nested function can access variables from its enclosing function, but cannot directly modify them unless the ",(0,l.jsx)(n.code,{children:"nonlocal"})," keyword is used. The enclosing scope exists between the local and global scopes."]}),"\n",(0,l.jsx)(n.h3,{id:"example-2",children:"Example"}),"\n",(0,l.jsx)(n.p,{children:"Consider the following code with an inner function:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"def outer_function():\n    number = 20\n\n    def inner_function():\n        print(number)\n    \n    inner_function()\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Here, ",(0,l.jsx)(n.code,{children:"inner_function"})," can access the ",(0,l.jsx)(n.code,{children:"number"})," variable defined in ",(0,l.jsx)(n.code,{children:"outer_function"}),". This is an example of a nonlocal scope. The ",(0,l.jsx)(n.code,{children:"number"})," in ",(0,l.jsx)(n.code,{children:"inner_function"})," refers to the ",(0,l.jsx)(n.code,{children:"number"})," in ",(0,l.jsx)(n.code,{children:"outer_function"}),", which is neither local to ",(0,l.jsx)(n.code,{children:"inner_function"})," nor global. However, if you try to assign a value to ",(0,l.jsx)(n.code,{children:"number"})," within ",(0,l.jsx)(n.code,{children:"inner_function"}),", it will create a local variable, leaving the ",(0,l.jsx)(n.code,{children:"number"})," in ",(0,l.jsx)(n.code,{children:"outer_function"})," unchanged."]}),"\n",(0,l.jsx)(n.h3,{id:"nonlocal-variable-modification",children:"Nonlocal Variable Modification"}),"\n",(0,l.jsxs)(n.p,{children:["To modify a variable in the enclosing scope, the ",(0,l.jsx)(n.code,{children:"nonlocal"})," keyword is required:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"def outer_function():\n    number = 20\n\n    def inner_function():\n        nonlocal number\n        number = 30\n    \n    inner_function()\n    print(number)  # This will print 30\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Using ",(0,l.jsx)(n.code,{children:"nonlocal number"})," allows ",(0,l.jsx)(n.code,{children:"inner_function"})," to modify the ",(0,l.jsx)(n.code,{children:"number"})," variable defined in ",(0,l.jsx)(n.code,{children:"outer_function"}),"."]}),"\n",(0,l.jsx)(n.h2,{id:"global-keyword",children:"Global Keyword"}),"\n",(0,l.jsx)(n.h3,{id:"concept-3",children:"Concept"}),"\n",(0,l.jsxs)(n.p,{children:["To modify a global variable from within a function, Python provides the ",(0,l.jsx)(n.code,{children:"global"})," keyword. Without this keyword, assigning a value to a variable within a function creates a new local variable, even if a global variable with the same name exists."]}),"\n",(0,l.jsx)(n.h3,{id:"example-3",children:"Example"}),"\n",(0,l.jsx)(n.p,{children:"Consider the following example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"number = 999\n\ndef modify_global_number():\n    global number\n    number = 1000\n\nmodify_global_number()\nprint(number)  # This will print 1000\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Here, the ",(0,l.jsx)(n.code,{children:"global"})," keyword allows the ",(0,l.jsx)(n.code,{children:"modify_global_number"})," function to modify the global ",(0,l.jsx)(n.code,{children:"number"})," variable, changing its value to 1000. Without the ",(0,l.jsx)(n.code,{children:"global"})," keyword, a local variable ",(0,l.jsx)(n.code,{children:"number"})," would be created within the function, leaving the global ",(0,l.jsx)(n.code,{children:"number"})," unchanged."]}),"\n",(0,l.jsx)(n.h2,{id:"scope-interaction-and-best-practices",children:"Scope Interaction and Best Practices"}),"\n",(0,l.jsx)(n.h3,{id:"scope-resolution-order-legb-rule",children:"Scope Resolution Order (LEGB Rule)"}),"\n",(0,l.jsx)(n.p,{children:"Python resolves variables using the LEGB rule, which stands for:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Local"}),": The innermost scope, containing variables defined within the function."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Enclosing"}),": The scope of any enclosing functions, applicable for nested functions."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Global"}),": The top-level scope of the script or module."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Built-in"}),": The outermost scope, containing built-in names like ",(0,l.jsx)(n.code,{children:"len"}),", ",(0,l.jsx)(n.code,{children:"range"}),", etc."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"When Python encounters a variable, it checks these scopes in order: Local \u2192 Enclosing \u2192 Global \u2192 Built-in."}),"\n",(0,l.jsx)(n.h3,{id:"avoiding-scope-related-issues",children:"Avoiding Scope-Related Issues"}),"\n",(0,l.jsx)(n.p,{children:"Excessive reliance on global variables can lead to code that is difficult to understand and maintain. Therefore, it is recommended to:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Minimize the use of global variables."}),"\n",(0,l.jsx)(n.li,{children:"Use function parameters and return values to pass data in and out of functions."}),"\n",(0,l.jsx)(n.li,{children:"Leverage local scopes to contain variables within specific functions or blocks of code."}),"\n",(0,l.jsxs)(n.li,{children:["Use the ",(0,l.jsx)(n.code,{children:"nonlocal"})," keyword with care, as it can introduce subtle bugs if not used correctly."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"summary",children:"Summary"}),"\n",(0,l.jsx)(n.p,{children:"Understanding Python's scoping rules is essential for writing efficient and error-free code. By distinguishing between local, enclosing, and global scopes, developers can manage variable lifecycles effectively, avoiding common pitfalls associated with variable shadowing and unintended global modifications. Following best practices related to scope management contributes to cleaner, more maintainable codebases."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>a});var o=i(6540);const l={},s=o.createContext(l);function c(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);